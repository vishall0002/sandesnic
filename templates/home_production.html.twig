
<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8"/>
      <meta content="width=device-width, initial-scale=1" name="viewport"/>
      <title>
         SANDES Portal
      </title>
      <link rel="alternate" type="application/rss+xml" title="{{ 'rss.title'|trans }}" href="#">
      <link rel="stylesheet" href="{{ asset('build/css/app.css') }}">
      <link rel="stylesheet" href="{{ asset('build/css/dashboard_stat.css') }}">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
      <link
         rel="icon" type="image/x-icon" href="{{ asset('img/logo_app.png') }}"/>
      <!-- Latest compiled and minified CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
      <!-- Bootstrap Bundle with Popper -->
{# <script  script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> #}

      <!-- Latest compiled JavaScript -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

      <style>
      body{
         background-color: none!important;
         background-image: none!important;
      }

      {# hover  #}

.hover-popup {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    z-index: 10;
    background: #fff;
    border: 1px solid #ddd;
    width: 200px;
    padding: 0;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }

  .hover-popup h6 {
    background-color: #007bff;
    color: white;
    margin: 0;
    padding: 8px 12px;
    font-size: 14px;
  }

  .hover-popup ul {
    list-style: none;
    padding: 8px 12px;
    margin: 0;
    font-size: 14px;
  }

  .hover-popup ul li {
    margin-bottom: 4px;
  }

  .hover-target {
    position: relative;
  }

  .hover-target:hover .hover-popup {
    display: block;
  }

      {# hover ends here  #}
      .shadow-custom:hover{
        border: 1px solid #b3b3b3;
         box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
         }

      .btn-darj{
         background-color: #A3EBFF;
         border-radius: 25px;
         padding: 5px 15px;
         color: black;
      }

      .gap-wrap {
  gap: 30px; /* gap between columns */
}

.guide-box {
  width: 33%;
  border: 1px solid #0680a3;
  padding: 20px;
  background-color: #058bae;
  border-radius: 8px;
  min-width: 280px; /* ensures good display on small screens */
}

/* Optional icon size */
.link-icon {
  width: 24px;
  height: 24px;
}

/* Mobile responsiveness */
@media (max-width: 767.98px) {
  .guide-box {
    width: 100% !important;
  }
}




         svg {
    margin-top: -100px;
}

      .highlight {
  background-color: #25a3c6;
  padding: 6px 8px;
  border-radius: 8px;
  color: white; /* Ensures text is readable */
  font-weight: bold; /* Optional: adds emphasis */
} 
.horizontal-cards{
   padding-top: 2rem;
   padding-bottom: 2rem;
}

.horizontal-cards .card {
      transition: background-color 0.3s ease, color 0.3s ease;
   }

   /* Icon color */
   .horizontal-cards .card .d-flex i {
      color: #037fa1;
   }

   /* Label color */
   .horizontal-cards .card .dashboard-label {
      color: #fff;
   }

   /* Hover effect */
   .horizontal-cards .card:hover {
      color: white;
   }

   /* Icon color on hover */
   .horizontal-cards .card:hover .d-flex i {
      color: white;
   }

   /* Label color on hover */
   .horizontal-cards .card:hover .dashboard-label {
      color: white;
   }



      /* Custom outline button styles */
.btn-outline-custom-organization,
.btn-outline-custom-egovapp,
.btn-outline-custom-both {
   border-width: 2px;
   border-radius: 20px;
   font-weight: 500;
   text-transform: uppercase;
   padding: 10px 20px;
   transition: background-color 0.3s, color 0.3s;
}

/* Organization button */
.btn-outline-custom-organization {
   border-color: #4FBDDC;
   color: #4FBDDC;
}

.btn-outline-custom-organization:hover,
.btn-outline-custom-organization.active {
   background-color: #4FBDDC;
   color: white;
}

/* eGov App button */
.btn-outline-custom-egovapp {
   border-color: #1398BD;
   color: #1398BD;
}

.btn-outline-custom-egovapp:hover,
.btn-outline-custom-egovapp.active {
   background-color: #1398BD;
   color: white;
}

/* Show Both button */
.btn-outline-custom-both {
   border-color: #0680A3;
   color: #0680A3;
}

.btn-outline-custom-both:hover,
.btn-outline-custom-both.active {
   background-color: #0680A3;
   color: white;
}

      {# for bar chart button style  #}
         .tab-btn.active {
            font-weight: bold;
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.4);
         }
      {# for bar chart button style ends here / #}



      {# new style  #}

/* Main Sandesh Section Background and Padding */
.sandeshPort {
background: #0281A4;
background: linear-gradient(173deg, rgba(2, 129, 164, 1) 0%, rgba(16, 149, 185, 1) 70%, rgba(68, 180, 213, 1) 100%);
  padding: 1rem 0; /* top-bottom 40px padding */
  color: #fff;
}

/* Heading Styling */
.index-heading {
  font-size: 2.2rem;
  font-weight: 700;
  margin-bottom: 20px;
  color: #fff;
}

.index-heading-small {
  font-size: 1.5rem;
  font-weight: 600;
  margin-top: 30px;
  margin-bottom: 20px;
  color: #fff;
}

/* Paragraph Font */
.index-font {
  font-size: 1rem;
  color: #fff;
  margin-bottom: 30px;
}



/* Icon next to links */
.link-icon {
  width: 32px;
}

/* Quick Links Styling */
.quick-link{
  text-decoration: none;
  color: #fff;
  font-weight: 500;
}

 .filest {
  text-decoration: none;
  color: #fff!important;
  font-weight: 500;
}

.quick-link .filest:hover{
     font-weight: 700; /* Bootstrap Primary Blue on Hover */
   color: white!important;
   text-decoration: underline;
}

.quick-link:hover {
  font-weight: 700; /* Bootstrap Primary Blue on Hover */
  color: white!important;
  text-decoration: underline;
}


      {# new style ends here  #}
	  	.vishal{
			box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
		}
		#monthlyCardContainer{
			display: flex;
			justify-content: center;
			align-items: center;
		}
		.card-item {
			transition: all 0.3s ease-in-out;
			}

         {# monthly message count  #}
         {# .card {
         transition: transform 0.3s ease, box-shadow 0.3s ease;
         cursor:  url(myBall.cur),auto;
         }
         .card:hover {
         transform: translateY(-5px);
         box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
         }
         .tab-btn.active {
         background-color: #0d6efd;
         color: #fff !important;
         } #}
         /* Circle effect on card hover */
         .card:hover {
         cursor: pointer;
         position: relative;
         overflow: hidden;
            background-color: #037fa1;        
         }
      .card:hover .text-muted, .dashboard-value{
            color: #fff !important;
            }
/* Default text color */
.card .text-muted,
.card .dashboard-value {
  color: #037fa1;
  transition: color 0.3s ease;
}

/* Hover effect */
.card:hover .text-muted,
.card:hover .dashboard-value {
  color: white !important;
}

/* Optional: Change background color on hover */
.card {
  background-color: #4FBDDC;
}

         .card::after {
         content: "";
         position: absolute;
         width: 50px;
         height: 50px;
         color: white;
         top: var(--y, 50%);
         left: var(--x, 50%);
         transform: translate(-50%, -50%);
         background: rgba(0, 0, 0, 0.05);
         border-radius: 50%;
         pointer-events: none;
         opacity: 0;
         transition: opacity 0.3s, transform 0.3s;
         }
         .card:hover::after {
         opacity: 1;
         transform: translate(-50%, -50%) scale(1.5);
         }
         {# monthly message count ends here  #}
         {# footer  #}
         .footer a{
         background-color: #1c4b6b;
         color: white!important;
         text-decoration: none;
         letter-spacing: 1px;
         background-color: transparent;
         }
         .footer a:hover {
         text-decoration: underline;
         color: #ffffff !important;
         }
         {# footer  #}
         {# banner section  #}
         .custom-banner {
         position: relative;
         overflow: hidden;
         }
         .banner-image {
         width: 100%;
         height: auto; /* Adjust height automatically */
         display: block;
         }
         .banner-overlay {
         position: absolute;
         top: 0;
         left: 0;
         height: 100%;
         width: 100%;
         background: rgba(28, 75, 107, 0.5);
         display: flex;
         justify-content: center;
         align-items: center;
         z-index: 2;
         }
         .banner-content {
         color: #fff;
         text-align: center;
         z-index: 3;
         }
         .banner-content h1 {
         font-size: 48px;
         font-weight: bold;
         margin-bottom: 10px;
         }
         .banner-content p {
         font-size: 20px;
         }
         {# banner section  #}
         {# features section style starts here  #}
         #features {
         padding-top: 1rem!important;
         background-color: white;
         }
         .site-heading h2 {
         display: block;
         font-weight: 700;
         margin-bottom: 10px;
         text-transform: uppercase;
         }
         .site-heading h2 span {
         color: #efecf9;
         }
         .site-heading h4 {
         display: inline-block;
         padding-bottom: 20px;
         position: relative;
         text-transform: capitalize;
         z-index: 1;
         }
         .site-heading h4::before {
         background: #c43734;
         bottom: 0;
         content: "";
         height: 2px;
         left: 50%;
         margin-left: -25px;
         position: absolute;
         width: 50px;
         }
         .site-heading {
         margin-bottom: 60px;
         overflow: hidden;
         }
         /* Wrap items with flexbox + gap */
         .features-area .features-items {
         display: flex;
         flex-wrap: wrap;
         gap: 30px; /* Adjust this value to match vertical spacing */
         justify-content: center;
         }
         /* Adjust columns to take up 30% for 3 per row with gap support */
         .features-area .features-items .col-md-4 {
         flex: 0 0 calc(33.333% - 20px);
         max-width: calc(33.333% - 20px);
         }
         /* Make sure each item has full height */
         .features-area .features-items .item {
         background: #ededed;
         padding: 30px 20px;
         border-radius: 12px;
         box-shadow: 0 4px 20px rgba(0,0,0,0.05);
         transition: all 0.3s ease-in-out;
         text-align: center;
         height: 100%;
         cursor: pointer;
         }
         /* ... keep the rest of the styles the same as earlier ... */
         /* ICON styling */
         .features-area .features-items .item .icon i {
         font-size: 40px;
         margin-bottom: 20px;
         color: #1c4b6b;
         transition: all 0.3s ease-in-out;
         }
         /* TEXT styling */
         .features-area .features-items .item .info h4 {
         font-size: 18px;
         font-weight: 600;
         margin-bottom: 10px;
         color: #1c4b6b;
         transition: color 0.3s ease-in-out;
         }
         .features-area .features-items .item .info p {
         font-size: 14px;
         color: #555;
         transition: color 0.3s ease-in-out;
         }
         /* Even item styles */
         .features-area .features-items .col-md-4:nth-child(even) .item {
         background-color: #25a3c6;

         }
         .features-area .features-items .col-md-4:nth-child(even) .item .icon i,
         .features-area .features-items .col-md-4:nth-child(even) .item .info h4,
         .features-area .features-items .col-md-4:nth-child(even) .item .info p {
            color: #fff;
         }
         /* Hover effects */
         .features-area .features-items .item:hover {
         transform: translateY(-10px);
         }
         .features-area .features-items .col-md-4:nth-child(odd) .item:hover {
         background-color: #efecf9;
         color: black!important;
         }
         {# .features-area .features-items .col-md-4:nth-child(odd) .item:hover .icon i,
         .features-area .features-items .col-md-4:nth-child(odd) .item:hover .info h4,
         .features-area .features-items .col-md-4:nth-child(odd) .item:hover .info p {
         color: #fff;
         } #}
         .features-area .features-items .col-md-4:nth-child(even) .item:hover {
         background-color: #fff;
         }
         .features-area .features-items .col-md-4:nth-child(even) .item:hover .icon i,
         .features-area .features-items .col-md-4:nth-child(even) .item:hover .info h4,
         .features-area .features-items .col-md-4:nth-child(even) .item:hover .info p {
         color: #1c4b6b;
         }
         {# features section style ends here  #}
         .graphsection{
         background: rgb(150,211,255);
         background: linear-gradient(90deg, rgba(150,211,255,1) 0%, rgba(25,73,108,1) 0%, rgba(70,145,199,1) 75%);
         }
         .shadow-sm {
         box-shadow:none!important;
         }
         @media (max-width: 767.98px) {
         .sandeshPort img {
         height: auto !important;
         }
         }
         .data-colu{
         padding: 0;
         margin: 0;
         margin-left: 5px;
         margin-bottom: 1rem!important;
         box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
         }
         .store-icon {
         transition: transform 0.3s ease, box-shadow 0.3s ease;
         }
         .store-icon:hover {
         transform: scale(1.05);
         box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
         }
         .playstoreRow {
         display: flex;
         justify-content: center;
         align-items: center;
         }
         .index-hedding {
         font-size: 2rem;
         font-weight: 700;
         color: #2c3e50;
         margin-bottom: 1rem;
         }
         .index-font {
         font-size: 1rem;
         {# color: #555; #}
         line-height: 1.6;
         }
         .dashboard-label {
         font-size: 0.95rem;
         }
       
         .card {
         transition: all 0.3s ease;
         border-radius: 12px;
         box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
         margin-bottom: 20px; /* ⬅️ Card bottom margin */
         }
         .card:hover {
         transform: translateY(-5px);
         box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
         }
         .left-container,
         .right-container {
         width: 49%;
         {# background: linear-gradient(135deg, #f0f4f8, #ffffff); #}
         background-color:#47b8d7;
         border-radius: 12px;
         padding: 2rem; /* ⬅️ Equal padding for both */
         min-height: 100%; /* Ensures they stretch properly */
         }
         .right-container {
         width: 49%;
         margin-left: 2%;
         display: flex;
         flex-direction: column;
         justify-content: center;
         align-items: center;
         {# background: linear-gradient(90deg, rgba(9,9,121,1) 0%, rgba(2,0,36,1) 0%, rgba(228,250,255,1) 0%); #}
           background-color:#efecf9;
         }
         {# .section-wrapper {
         padding: 1rem 0; /* ⬅️ Spacing above and below section */
         } #}
         @media (max-width: 768px) {
         .equal-height {
         flex-direction: column;
         }
           .dashboard-value {
         font-size: 1rem;
         font-weight: bold;
         }
         .left-container,
         .right-container {
         width: 100% !important;
         margin-left: 0 !important;
         margin-top: 1rem;
         }
         }
         .note-container {
         box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
       
         }
         .note-container {
         width: 100%;
         overflow: hidden;
         background-color: #f9f9f9;
         white-space: nowrap;
         position: relative;
         }

         .scrolling-text {
         display: inline-block;
         padding-left: 100%; /* Push start off screen */
         animation: scroll-left 15s linear infinite;
         }

         @keyframes scroll-left {
         0% {
            transform: translateX(0);
         }
         100% {
            transform: translateX(-100%);
         }
         }

         #notecard {
         font-size: 18px;
         background-color: white;
         padding: 10px;
         border-radius: 3px;
         text-shadow: 0 0 black;
         width: 100%;
         display: none;
         }
         @media(max-width:500px){
         .features-area .features-items .col-md-4 {
         max-width: none!important;
         }
         .features-area .features-items {
         display: block!important;
         }
         .col-md-12{
         padding: 0 !important;
         }
         .col-md-4{
         padding: 0 !important;
         margin: 10px  0;
         }
         .features-area .features-items{
         gap: 0 !important;
         }
         }

         @media(min-width:769px){
              .dashboard-value {
         font-size: 1.75rem;
         font-weight: bold;
         }
         }
      </style>
   </head>
   <body>
      <div id="myModal" class="modal">
         <div class="modal-content">
            <span class="close">&times;</span>
            <div class="slide-container">
               <div class="slide ">
                  <img src="{{ asset('img/G20-Day-1.jpg') }}">
               </div>
               <div class="slide">
                  <img src="{{ asset('img/pm-g20.png') }}">
               </div>
               <a href="#" class="prev" title="Previous">&#10094</a>
               <a href="#" class="next" title="Next">&#10095</a>
            </div>
            <div class="dots-container">
               <span class="dot"></span>
               <span class="dot"></span>
            </div>
         </div>
      </div>
      <div class="container py-3 section-wrapper">
         <div class="row align-items-center text-center text-md-start px-3">
            <!-- Logo Section -->
            <div class="col-lg-4 col-md-6 mb-3 mb-md-0">
               <a class="navbar-brand d-inline-flex align-items-center" href="/" aria-label="Sandes">
             <img src="{{ asset('img/ashoklogo.png') }}" style="width: 36px; mix-blend-mode: exclusion;" alt="Ashoka Logo" />
               <img src="{{ asset('img/home_page_logo.png') }}" style="width: 54px; margin-left: 16px;" alt="Sandes Logo"  />
               </a>
            </div>
            <!-- Title Section -->
            <div class="col-lg-4 col-md-6 mb-3 mb-md-0 d-flex justify-content-center align-items-center flex-column">
              <h1 class="fw-bold text-center" style="font-family: Metropolis; font-size: 3em; color: #002060;">
                  SANDES
               </h1>
               <h3 class="text-center fw-bold d-none d-md-block" style="font-family: Metropolis; font-size: 1.5em; color: #c43734;">
                  Government Instant Messaging System
               </h3>

            </div>
            <!-- Login Buttons -->
            <div class="col-lg-4 col-md-12 text-md-end">
               <a href="{{ path('app_login_gimsotp') }}" class="btn btn-sm btn-darj me-2 mb-2 shadow-custom">Login - Admin</a>
               <a href="{{ path('app_gims_web_start') }}" 
                  class="btn btn-sm  mb-2 shadow-custom btn-darj">
                  Login - Sandes Web
               </a>

            </div>
         </div>
      </div>

      <div class="note-container">
         <marquee id="notecard" direction="left" loop="infinite"></marquee>
      </div>
      <section class="custom-banner-new">
       <div id="customCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="3000">
            <div class="carousel-inner">
               <div class="carousel-item active">
               <img src="/img/connectwithpeople.png" class="d-block w-100 banner-image" alt="Banner 2">
               </div>
               <div class="carousel-item">
               <img src="/img/audiovideocall.png" class="d-block w-100 banner-image" alt="Har Ghar Tiranga Banner">
               </div>
                <div class="carousel-item">
               <img src="/img/chatbanner.png" class="d-block w-100 banner-image" alt="Har Ghar Tiranga Banner">
               </div>
                <div class="carousel-item">
               <img src="/img/whysande.png" class="d-block w-100 banner-image" alt="Har Ghar Tiranga Banner">
               </div>
            </div>

            <!-- Optional: Carousel controls -->
            <button class="carousel-control-prev" type="button" data-bs-target="#customCarousel" data-bs-slide="prev">
               <span class="carousel-control-prev-icon" aria-hidden="true"></span>
               <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#customCarousel" data-bs-slide="next">
               <span class="carousel-control-next-icon" aria-hidden="true"></span>
               <span class="visually-hidden">Next</span>
            </button>
         </div>
      </section>


<section class="horizontal-cards">
   <div class="container">
      <h1 class="index-hedding" style="color:#1f2e8f">Sandes Statistics</h1>
      {# <p class="text-muted mb-4 text-center">Get a quick glance at current usage and statistics</p> #}
      <div class="row g-3">
         <!-- Organization Card -->
         <div class="col-6 col-sm-6 col-md-3">
            <div class="card p-3 h-100 hover-target">
               <div class="d-flex align-items-center">
                  <i class="fa fa-cubes fa-2x me-3"></i>
                  <div>
                     <span class="dashboard-label">Organizations</span><br/>
                     <span class="dashboard-value db_o_count">000</span>
                  </div>
               </div>
            </div>
         </div>

          <div class="hover-popup">
            <h6>Organisation</h6>
            <ul>
            <li>State: 40</li>
            <li>Central: 50</li>
            <li>Others: 10</li>
            </ul>
         </div>


         <!-- Registered Users Card -->
         <div class="col-6 col-sm-6 col-md-3">
            <div class="card p-3 h-100">
               <div class="d-flex align-items-center">
                  <i class="fa fa-check-square fa-2x me-3"></i>
                  <div>
                     <span class="dashboard-label">Registered Users</span><br/>
                     <span class="dashboard-value db_re_count">000</span>
                  </div>
               </div>
            </div>
         </div>
         <!-- Message Count - App Card -->
         <div class="col-6 col-sm-6 col-md-3">
            <div class="card p-3 h-100">
               <div class="d-flex align-items-center">
                  <i class="fa fa-line-chart fa-2x me-3"></i>
                  <div>
                     <span class="dashboard-label">Message Count-App</span><br/>
                     <span class="dashboard-value db_m_count">000</span>
                  </div>
               </div>
            </div>
         </div>
         <!-- Message Count - eGov Applications Card -->
         <div class="col-6 col-sm-6 col-md-3">
            <div class="card p-3 h-100">
               <div class="d-flex align-items-center">
                  <i class="fa fa-line-chart fa-2x me-3"></i>
                  <div>
                     <span class="dashboard-label">Message Count-eGov Applications</span><br/>
                     <span class="dashboard-value egove_message_count">000</span>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</section>




{# about us section starts here  #}

<section class="sandeshPort">
  <div class="container section-wrapper">
    <div class="row">
      <div class="col-12">
        
        <h1 class="index-heading">About Sandes</h1>
        <p class="index-font">
          Sandes, an initiative by the Government of India under Atma Nirbhar Bharat, is a secure communication platform for government officials and citizens. Integrated with eGov applications, it supports G2C, C2G, and G2G messaging. Sandes ensures end-to-end encryption for all messages, calls, and files. Admins can manage users seamlessly, making it a reliable choice for secure digital communication.
        </p>

        <h4 class="index-heading-small">Quick Links</h4>
         {% set fileSizes = defValue.getDefaultValueObject('FILE_SIZES') %}


        {# <div class="card-body links-section">
          <div class="row g-4">
            <div class="col-md-4 d-flex align-items-start">
              <img src="{{ asset('img/icon_2.svg') }}" alt="icon" class="me-2 link-icon">
              <a href="{{ asset('resources/um/qrg.pdf') }}" target="_blank" class="quick-link">
                QRG - Android<br>
                <small class="text-muted filest">[{{fileSizes.qrgandroid}}]</small>
              </a>
            </div>

            <div class="col-md-4 d-flex align-items-start">
              <img src="{{ asset('img/icon_2.svg') }}" alt="icon" class="me-2 link-icon">
              <a href="{{ asset('resources/um/qrg-ios.pdf') }}" target="_blank" class="quick-link">
                QRG - iOS<br>
                <small class="text-muted filest">[{{fileSizes.qrgios}}]</small>
              </a>
            </div>

            <div class="col-md-4 d-flex align-items-start">
              <img src="{{ asset('img/icon_2.svg') }}" alt="icon" class="me-2 link-icon">
              <a href="{{ asset('img/anroid_video_english.mp4') }}" target="_blank" class="quick-link">
                Android Video (English)
              </a>
            </div>

            <div class="col-md-4 d-flex align-items-start">
              <img src="{{ asset('img/icon_2.svg') }}" alt="icon" class="me-2 link-icon">
              <a href="{{ asset('img/android_video_hindi.mp4') }}" target="_blank" class="quick-link">
                Android Video (Hindi)
              </a>
            </div>

            <div class="col-md-4 d-flex align-items-start">
              <img src="{{ asset('img/icon_2.svg') }}" alt="icon" class="me-2 link-icon">
              <a href="{{ asset('img/ios_video_english.mp4') }}" target="_blank" class="quick-link">
                iOS Video (English)
              </a>
            </div>

          </div>
        </div> #}


      {# new  #}

<div class="card-body links-section">
  <div class="d-flex flex-wrap gap-wrap">

    <!-- Quick Reference Guides -->
    <div class="guide-box">
      <h5 class="mb-3">Reference Guides</h5>
      <div class="d-flex flex-column">
        <div class="d-flex align-items-start mb-3">
          <img src="/img/icon_2.svg" alt="icon" class="me-2 link-icon">
          <a href="/resources/um/qrg.pdf" target="_blank" class="quick-link">
            QRG - Android<br>
            <small class="text-muted filest">[3MB]</small>
          </a>
        </div>

        <div class="d-flex align-items-start mb-3">
          <img src="/img/icon_2.svg" alt="icon" class="me-2 link-icon">
          <a href="/resources/um/qrg-ios.pdf" target="_blank" class="quick-link">
            QRG - iOS<br>
            <small class="text-muted filest">[2.1MB]</small>
          </a>
        </div>
      </div>
    </div>

    <!-- App Videos -->
    <div class="guide-box">
      <h5 class="mb-3">Reference Videos</h5>
      <div class="d-flex flex-column">
        <div class="d-flex align-items-start mb-3">
          <img src="/img/icon_2.svg" alt="icon" class="me-2 link-icon">
          <a href="/img/anroid_video_english.mp4" target="_blank" class="quick-link">
            Android Video (English)
          </a>
        </div>

        <div class="d-flex align-items-start mb-3">
          <img src="/img/icon_2.svg" alt="icon" class="me-2 link-icon">
          <a href="/img/android_video_hindi.mp4" target="_blank" class="quick-link">
            Android Video (Hindi)
          </a>
        </div>

        <div class="d-flex align-items-start mb-3">
          <img src="/img/icon_2.svg" alt="icon" class="me-2 link-icon">
          <a href="/img/ios_video_english.mp4" target="_blank" class="quick-link">
            iOS Video (English)
          </a>
        </div>
      </div>
    </div>

  </div>
</div>




      {# new endshere  #}



      </div>
    </div>
  </div>
</section>


{# about us section ends here  #}




      <div class="container">
         {# <div
            class="d-flex justify-content-center align-items-center gap-4 flex-wrap p-4 rounded shadow" style="background-color: #f8f9fa;">
            <div class="d-flex align-items-center gap-3">
               <h4 class="mb-0 text-primary">Download our app</h4>
               <div style="width: 1px; height: 40px; background-color: #ccc;"></div>
            </div>
            <div class="d-flex gap-3">
               <a href="https://play.google.com/store/apps/details?id=in.nic.gimkerala&hl=en_IN&gl=US" class="" role="button" target="_blank">
               <img src="/img/andrs11.png" alt="" style="width: auto; height: 84px"/>
               </a>
               <a href="https://apps.apple.com/in/app/gims-instant-messaging-system/id1517976582" class="" role="button" target="_blank">
               <img src="/img/iosss.png" alt="" style="width: auto; height: 84px"/></a>
            </div>
         </div> #}
      </div>

  <div class="container-fluid p-0 m-0 d-flex justify-content-center align-items-center p-1">
  <!-- App Download Section -->
  <div class="px-4 pt-5 pb-0 mx-0">
    <div class="d-flex flex-wrap justify-content-center align-items-center gap-4 px-4 py-4 rounded shadow bg-light">
      <!-- Heading + Divider -->
      <div class="d-flex align-items-center gap-3">
        <h4 class="mb-0" style="color:#002060;">Download Sandes App</h4>
        <div class="vr" style="height: 40px;"></div>
      </div>
      <!-- App Buttons -->
      <div class="d-flex gap-3 flex-wrap">
        <a href="https://play.google.com/store/apps/details?id=in.nic.gimkerala&hl=en_IN&gl=US" target="_blank" aria-label="Download on Google Play">
          <img src="/img/andrs11.png" alt="Google Play" class="img-fluid" style="height: 84px;" />
        </a>
        <a href="https://apps.apple.com/in/app/gims-instant-messaging-system/id1517976582" target="_blank" aria-label="Download on App Store">
          <img src="/img/iosss.png" alt="App Store" class="img-fluid" style="height: 84px;" />
        </a>
      </div>
    </div>
  </div>
</div>


     
	 
 

    {# MESSAGE COUNT FOR LAST 12 MONTHS STARTS HERE  #}
      <section class="mt-3">
         <div class="container-fluid section-wrapper">
         <div class="row equal-height">
         <div class="col-md-12 col-12">
            <h1 class="index-hedding" style="color:#1f2e8f;">Sandes Status Overview</h1>
            </div> 
         </div>
      {# bar chart starts here  #}
       <div class="justify-content-center my-1" style="text-align: center;" >
         <button class="btn btn-outline-custom-organization me-2 tab-btn active mt-3" data-type="organization">Organisation</button>
         <button class="btn btn-outline-custom-egovapp me-2 tab-btn mt-3" data-type="egovapp">eGov App</button>
         <button class="btn btn-outline-custom-both tab-btn mt-3" data-type="both">Show Both</button>
      </div>


         <!-- Chart container -->
         <div class="container-fluid section-wrapper" style="display: flex; justify-content: center; align-items: center;">
            <canvas id="barChart" style="height:450px; width:80%;"></canvas>
         </div>

   {# bar chart ends here  #}
      </section>
      {# MESSAGE COUNT FOR LAST 12 MONTHS ENDS HERE  #}








{# MESSAGE COUNT FOR LAST 12 MONTHS STARTS HERE  col wise #}
{# <section class="sandeshPort">
   <div class="container-fluid section-wrapper">
      <div class="row equal-height">
         <div class="col-12">
            <h1 class="index-hedding">Sandes Dashboard Overview</h1>

            <!-- Button Tabs -->
            <div class="d-flex justify-content-center my-3">
               <button class="btn btn-outline-danger me-2 tab-btn active" data-type="organization">Organization</button>
               <button class="btn btn-outline-success me-2 tab-btn" data-type="egovapp">eGov App</button>
               <button class="btn btn-outline-dark tab-btn" data-type="both">Show Both</button>
            </div>

            <!-- Row with cards and chart side-by-side -->
            <div class="row">
               <!-- Cards Column -->
               <div class="col-lg-6">
                  <div class="row g-3" id="monthlyCardContainer"></div>

                  <div class="text-center mt-4">
                     <button id="showMoreBtn" class="btn btn-primary d-none">Show More</button>
                     <button id="showLessBtn" class="btn btn-outline-secondary d-none">Show Less</button>
                  </div>
               </div>

               <!-- Chart Column -->
               <div class="col-lg-6 d-flex justify-content-center align-items-center">
                  <canvas id="barChart" style="height:450px; width:100%;"></canvas>
               </div>
            </div>

         </div>
      </div>
   </div>
</section> #}
{# MESSAGE COUNT FOR LAST 12 MONTHS ENDS HERE  #}

      
      {# banner section  #}
      <section class="custom-banner">
         <picture>
            <!-- Optional: mobile-specific image -->
            <source media="(max-width: 768px)" srcset="/img/homebannercenter.png">
            <!-- Optional: high-res desktop image -->
            <source media="(min-width: 769px)" srcset="/img/homebannercenter.png">
            <img src="/img/homebannercenter.png" alt="Sandes Banner" class="banner-image">
         </picture>
      </section>
      {# banner section  #}
      {# features section starts here  #}
      <section id="features" class="features-area item-full text-center cell-items default-padding m-0 p-0">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="site-heading text-center mt-4">
                     <h2 style="color:#1f2e8f;">Sandes <span class="highlight">Features</span></h2>
                     <h4 style="color: #c43734">Checkout our latest features</h4>
                  </div>
               </div>
            </div>
            <div class="row features-items">
            
               <div class="col-md-4 featue" >
                  <div class="item">
                     <div class="icon">
                        <i class="fa-solid fa-users"></i>
                     </div>
                     <div class="info">
                        <h4>Organisations and user management</h4>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                     </div>
                  </div>
               </div>
               <div class="col-md-4 featue" >
                  <div class="item">
                     <div class="icon">
                        <i class="fa-solid fa-users-rays"></i>
                     </div>
                     <div class="info">
                        <h4>Official group management</h4>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                     </div>
                  </div>
               </div>
               <div class="col-md-4 featue">
                  <div class="item">
                     <div class="icon">
                        <i class="fa-solid fa-certificate"></i>
                     </div>
                     <div class="info">
                        <h4>Verify Government users</h4>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                     </div>
                  </div>
               </div>
               <div class="col-md-4 featue">
                  <div class="item">
                     <div class="icon">
                        <i class="fa-solid fa-tower-broadcast"></i>
                     </div>
                     <div class="info">
                        <h4>Broadcast message</h4>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                     </div>
                  </div>
               </div>
               <div class="col-md-4 featue">
                  <div class="item">
                     <div class="icon">
                        <i class="fa-solid fa-cloud-arrow-down"></i>
                     </div>
                     <div class="info">
                        <h4>Download and support center</h4>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                     </div>
                  </div>
               </div>
               <div class="col-md-4 featue">
                  <div class="item">
                     <div class="icon">
                        <i class="fa-solid fa-globe"></i>
                     </div>
                     <div class="info">
                        <h4>Sandes web</h4>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                     </div>
                  </div>
               </div>
               <div class="col-md-4 featue">
                  <div class="item">
                     <div class="icon">
                        <i class="fa-solid fa-gauge"></i>
                     </div>
                     <div class="info">
                        <h4>Dashboard Reporting</h4>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                     </div>
                  </div>
               </div>
                  <div class="col-md-4 featue" >
                  <div class="item">
                     <div class="icon">
                        <i class="fa-solid fa-eye"></i>
                     </div>
                     <div class="info">
                        <h4>Configure Profile Visiting</h4>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 240"><path fill="#037fa1" fill-opacity="1" d="M0,96L1440,288L1440,320L0,320Z"></path></svg>
      </section>
      {# features section ends here  #}
    
      {# footer section  #}
      <footer class="footer text-white pt-5 pb-4" style="background-color: #037fa1; border:none!important" >
         <div class="container">
            <div class="row">
               <!-- Column 1: Logo + Description -->
               <div class="col-md-3 col-sm-6 mb-4">
                  <a class="navbar-brand d-inline-flex align-items-center" href="/" aria-label="Sandes">
                  <img src="{{ asset('img/ashoklogo.png') }}" style="width: 36px;" alt="Ashoka Logo" />
                  <img src="{{ asset('img/home_page_logo.png') }}" style="width: 54px; margin-left: 16px;" alt="Sandes Logo" />
                  </a>


         <a class="d-inline-flex align-items-center" href="/" aria-label="Sandes" style="background-color: white;">
                           <img src="{{ asset('img/logos/nic/BILINGUAL FULL LENGTH VERSION white  bg-01.svg') }}" style="width: 250px;" alt="Ashoka Logo" /></a>

                  
                  
               </div>
               <!-- Column 2: Features -->
               <div class="col-md-3 col-sm-6 mb-4">
                  <h5 class="text-uppercase mb-3">Features</h5>
                  <ul class="list-unstyled">
                     <li><a href="#" class="text-white-50">Profile Visiting</a></li>
                     <li><a href="#" class="text-white-50">Group Management</a></li>
                     <li><a href="#" class="text-white-50">Broadcast</a></li>
                     <li><a href="#" class="text-white-50">Dashboard</a></li>
                  </ul>
               </div>
               <!-- Column 3: Quick Links -->
              <div class="col-md-3 col-sm-6 mb-4">
               <h5 class="text-uppercase mb-3">Quick Links</h5>
               <ul class="list-unstyled">
                  <!-- New QRG and Video Links -->
                  <li><a href="/resources/um/qrg.pdf" target="_blank" class="text-white-50">QRG - Android [3MB]</a></li>
                  <li><a href="/resources/um/qrg-ios.pdf" target="_blank" class="text-white-50">QRG - iOS [2.1MB]</a></li>
                  <li><a href="/img/anroid_video_english.mp4" target="_blank" class="text-white-50">Android Video (English)</a></li>
                  <li><a href="/img/android_video_hindi.mp4" target="_blank" class="text-white-50">Android Video (Hindi)</a></li>
                  <li><a href="/img/ios_video_english.mp4" target="_blank" class="text-white-50">iOS Video (English)</a></li>
               </ul>
               </div>

               <!-- Column 4: Social Media -->
              <div class="col-md-3 col-sm-6 mb-4">
                  <h5 class="text-uppercase mb-3">Contact Us</h5>
                  <div class="text-white">
                     <p class="mb-2" style="color: white;">
                       <a href="mailto:support-sandes@nic.in"> <i class="fas fa-envelope me-2"></i> support-sandes@nic.in</a>
                     </p>
                     <p style="text-decoration: none; color:white;">
                        <i class="fas fa-globe me-2"></i> <a href="https://www.nic.in" class="text-white text-decoration-none" target="_blank">www.nic.in</a>
                     </p>
                  </div>
                  </div>

            </div>
            <!-- Newsletter -->
            {# <div class="row mt-5">
               <div class="col-md-8 mx-auto text-center">
                  <h5 class="mb-3">Subscribe to our Newsletter</h5>
                  <form class="d-flex flex-column flex-sm-row justify-content-center gap-2">
                     <input type="email" class="form-control" placeholder="Enter your email" required>
                     <button type="submit" class="btn btn-light px-4">Subscribe</button>
                  </form>
               </div>
            </div> #}
            <hr class="my-4 border-light">
            <div class="text-center text-white-50 small">
               © 2025 Sandes a product of NIC. All rights reserved.
            </div>
         </div>
      </footer>
      {# footer section  #}
      <section class="sandeshPort py-5 graphsection d-none" >
         <div class="container">
            <div class="row align-items-center">
               <!-- Image Section -->
               <div class="col-lg-6 col-md-6 col-sm-12 mb-4 mb-md-0">
                  <div class="shadow-sm rounded overflow-hidden">
                     <img src="{{ asset('img/Sandes_Brochure_v1.png') }}" alt="Sandes Brochure"
                        class="img-fluid w-100" style="height: 550px; object-fit: cover; border-radius: 12px;">
                  </div>
               </div>
               <!-- Text Content -->
               <div class="col-lg-6 col-md-6 col-sm-12">
                  <div class="p-4 bg-white shadow-sm rounded">
                     <h2 class="text-danger fw-bold mb-3">About Sandes</h2>
                     <p class="text-secondary fs-6" style="text-align: justify;">
                        <strong>Sandes</strong>, an initiative by the Government of India under <em>Atma Nirbhar Bharat</em>,
                        is a platform to facilitate government officials and citizens to securely exchange messages.
                        Unique features of Sandes include integration with eGov applications to enable G2C, C2G, and G2G governance at your fingertips.
                        <br><br>
                        Sandes supports messages, audio/video calls, and file exchanges — all <strong>end-to-end encrypted</strong>. The portal facilitates user management by all onboarded organization admins. It is also intended for use by all registered Sandes users via the web version.
                     </p>
                  </div>
               </div>
            </div>
         </div>
      </section>
      {# vishal ends  #}
      <!------------------------------------------start of the count of all ------------------------------------------------------------>
      {# 
      <div class="row d-none">
         <div class="col-12">
            <div class="card-group">
               <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12 mb-2">
                  <a class="card p-1" style="text-decoration: none">
                     <div class="row pl-4">
                        <div class="text-right pr-0 pt-1">
                           <i class="fa fa-cubes fa-4x" style="color: hsl(206, 75%, 30%)"></i>
                        </div>
                        <div class="col-8 text-left pl-0">
                           <span class="text-muted dashboard-label">
                           Organizations
                           </span><br/>
                           <strong class="db_o_count h1 text-dark dashboard-value dbdvals blurry-text">000</strong>
                        </div>
                     </div>
                  </a>
               </div>
               <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12 mb-2">
                  <a class="card p-1" style="text-decoration: none">
                     <div class="row pl-4">
                        <div class="text-right pr-0 pt-1">
                           <i class="fa fa-check-square fa-4x" style="color: hsl(206, 75%, 30%)"></i>
                        </div>
                        <div class="col-8 text-left pl-0">
                           <span class="text-muted dashboard-label">
                           Registered Users
                           </span><br/>
                           <strong class="db_re_count h1 text-dark dashboard-value dbdvals blurry-text">000</strong>
                        </div>
                     </div>
                  </a>
               </div>
               <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12 mb-2">
                  <a class="card p-1" style="text-decoration: none">
                     <div class="row pl-4">
                        <div class="text-right pr-0 pt-1">
                           <i class="fa fa-line-chart fa-4x" style="color: hsl(206, 75%, 30%)"></i>
                        </div>
                        <div class="col-8 text-left pl-0">
                           <span class="text-muted dashboard-label">
                           Message Count-App
                           </span><br/>
                           <strong class="db_m_count h1 text-dark dashboard-value dbdvals blurry-text">000</strong>
                        </div>
                     </div>
                  </a>
               </div>
               <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12 mb-2">
                  <a class="card p-1" style="text-decoration: none">
                     <div class="row pl-4">
                        <div class="text-right pr-0 pt-1">
                           <i class="fa fa-line-chart fa-4x" style="color: hsl(206, 75%, 30%)"></i>
                        </div>
                        <div class="col-8 text-left pl-0">
                           <span class="text-muted dashboard-label">
                           Message Count-eGov Applicatios
                           </span><br/>
                           <strong class="egove_message_count h1 text-dark dashboard-value dbdvals blurry-text">000</strong>
                        </div>
                     </div>
                  </a>
               </div>
            </div>
         </div>
         <!------------------------------------------end of the count of all ------------------------------------------------------------>
      </div>
      #}
      {# 
      <div class="container pt-3" style="height: 15vh">
         <div class="col-12 text-center p-2">
            <img alt="Digital India Logo" src="/img/logos/di/white.svg" width="125px"/>
            <a class="m-3" href="http://www.nic.in" rel="noopener noreferrer" target="_blank">
            <img src="{{ asset('img/logos/nic/Nic_logo3-01.svg') }}" width="125px" class="left" alt=""></a>
         </div>
         <div class="col-12 text-center p-2">
            <a class="m-3" href="https://twitter.com/NICMeity" style="text-decoration: none;">
            <i class="fa fa-2x fa-twitter-square m-0"></i>
            </a>
            <a class="m-3" href="https://facebook.com/NICIndia" style="text-decoration: none;">
            <i class="fa fa-2x fa-facebook-square m-0"></i>
            </a>
            <a class="m-3" href="https://linkedin.com/company/national-informatics-centre" style="text-decoration: none;">
            <i class="fa fa-2x fa-linkedin-square m-0"></i>
            </a>
            <a class="m-3" href="mailto:support-sandes@nic.in?Subject=Sandes Support required">
            <i class="fa fa-2x fa-comment m-0"></i>
            support-sandes[at]nic.in
            </a>
            <a class="m-3" href="https://www.nic.in">
            <i class="fa fa-2x fa-globe m-0"></i>
            www.nic.in</a>
         </div>
         <div class="col-md-12 text-center p-2">
            <small class="text-center">
            <span class="text-success">{{ 'GO GREEN  Version: ' ~ appversion  }}</span>
            <span id="timeShow" style="color: #718a83;" data-time="{{ appServices.getUnixTimeStamp()}}"></span>
            </small>
         </div>
      </div>
      #}
   </body>
</html>
<script src="{{ asset('build/js/index_ajx_call.js') }}"></script> <script>
   $(document).ready(function () {
   	var url = "{{ path('get_index_data') }}";
       $.ajax({
          url: url,
           beforeSend: function () {
               $('.progress').addClass('d-block');
               $('.dbdvals').addClass('blurry-text');
           },
           success: function (dbdata) {
               if (!dbdata.OLUCount){
                   $(".online-users").removeClass('h1').removeClass('dashboard-value').addClass('blink_text').text('Connecting...');
               } else {
                   $(".online-users").text(dbdata.OLUCount);
               }
               $(".db_o_count").text(dbdata.OCount);
               $(".db_e_count").text(dbdata.ECount);
               $(".db_re_count").text(formatNumber(dbdata.ERCount));
               $(".db_m_count").text(formatNumber(dbdata.MCount));
               $(".db_min_count").text(formatNumber(dbdata.MinCount));
               $(".egove_message_count").text(formatNumber(dbdata.egovemessage));
               $(".last-updated-at").text('Last updated at ' + dbdata.LAU);
           },
           complete: function () {
               $('.dbdvals').removeClass('blurry-text');
               $('.progress').removeClass('d-block').addClass('d-none');
   
           }
       });
   
   	var url = "{{ path('get_message_data') }}";
   	$.ajax({
   		url: url,
   		beforeSend: function () {
   			$('.progress').addClass('d-block');
   			$('.dbdvals').addClass('blurry-text');
   		},
   		success: function (dbdata) {
   			if(dbdata.show == true) {
   				const msg = '<strong>' + dbdata.heading + '</strong>' + dbdata.message;
   				$("#notecard").html(msg);
                  $("#notecard").show();
                              $("#notecard")[0].offsetHeight;
                           }
                        }
                     });
   });
   
   
   {# function to  fetch monthly message count starts here  #}
   
   let activeTab = 'organization'; // Global state
let monthlyData = [];
let visibleCardCount = 4; // Initial visible cards

function formatNumber(num) {
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

function getMonthName(isoMonth) {
  const [year, month] = isoMonth.split('-');
  const date = new Date(`${year}-${month}-01`);
  return date.toLocaleString('default', { month: 'long', year: 'numeric' });
}

function renderCards(monthlyData) {
  $('#monthlyCardContainer').empty(); // clear container

  // Only render the currently visible cards
  monthlyData.slice(0, visibleCardCount).forEach((item, index) => {
    const value = item[activeTab];
    const prev = monthlyData[index + 1] ? monthlyData[index + 1][activeTab] : null;
    const trendIcon = prev !== null
      ? value > prev
        ? '<span class="text-success"><i class="fas fa-arrow-up"></i></span>'
        : value < prev
          ? '<span class="text-danger"><i class="fas fa-arrow-down"></i></span>'
          : '<span class="text-muted"><i class="fas fa-minus"></i></span>'
      : '';

    const cardHTML = `
      <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 card-item" style="display: none;">
        <div class="card h-100 shadow-sm border-0 rounded-4 vishal">
          <div class="card-header text-white bg-dark text-center fw-bold" style="border-top-left-radius: 1rem; border-top-right-radius: 1rem;">
            ${getMonthName(item.month)}
          </div>
          <div class="card-body text-center">
            <div class="fs-9 mb-2">
              <i class="fas ${activeTab === 'organization' ? 'fa-building' : 'fa-mobile-alt'} me-2 text-${activeTab === 'organization' ? 'primary' : 'success'}"></i>
              ${activeTab === 'organization' ? 'Organization' : 'eGov App'}
            </div>
            <div class="display-6 fw-bold mb-2">
              ${formatNumber(value)} ${trendIcon}
            </div>
          </div>
        </div>
      </div>
    `;

    const $card = $(cardHTML);
    $('#monthlyCardContainer').append($card);
    $card.fadeIn(400); // animate each card
  });

  // Control visibility of buttons
  if (visibleCardCount < monthlyData.length) {
    $('#showMoreBtn').removeClass('d-none').show();
  } else {
    $('#showMoreBtn').hide();
  }

  if (visibleCardCount > 4) {
    $('#showLessBtn').removeClass('d-none').show();
  } else {
    $('#showLessBtn').hide();
  }
}

$(document).ready(function () {
  const url = "{{ path('get_monthly_message_data') }}"; // Symfony route

  $.ajax({
    url: url,
    beforeSend: function () {
      $('.monthly-progress').addClass('d-block');
    },
    success: function (data) {
      if (Array.isArray(data)) {
        monthlyData = data;
        renderCards(monthlyData);
      }
    },
    complete: function () {
      $('.monthly-progress').removeClass('d-block').addClass('d-none');
    }
  });

  $('.tab-btn').on('click', function () {
    $('.tab-btn').removeClass('active');
    $(this).addClass('active');
    activeTab = $(this).data('type');
    visibleCardCount = 4; // Reset on tab change
    renderCards(monthlyData);
  });

  $('#showMoreBtn').on('click', function () {
  visibleCardCount += 4;
  renderCards(monthlyData);
});

$('#showLessBtn').on('click', function () {
  visibleCardCount -= 4;
  renderCards(monthlyData);
});

});

   
   {# function to  fetch monthly message count ends here  #}
   
   
   
   
   
   
   
   
   function formatNumber(num) {
   if (num === undefined || num === null) {
          return "Data not available"; // or handle it in any other appropriate way
      }
      if (num >= 10000000) {
          num = (num / 10000000).toFixed(2) + ' Crore';
      } else if (num >= 100000) {
          num = (num / 100000).toFixed(2) + ' Lakh';
      } else {
          num = num.toString();
      }
      return num;
   }
   // Get the modal
   var modal = document.getElementById("myModal");
   var span = document.getElementsByClassName("close")[0];
   span.onclick = function() {
    modal.style.display = "none";
   }
   // When the user clicks anywhere outside of the modal, close it
   window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
   }
   let currentSlide = 0;
   const slides = document.querySelectorAll(".slide");
   const dots = document.querySelectorAll('.dot');
   const init = (n) => {
    slides.forEach((slide, index) => {
      {# slide.style.display = "none"; #}
    });
    dots.forEach((dot, index) => {
      dot.classList.remove("active");
    });
    slides[n].style.display = "block";
    dots[n].classList.add("active");
   };
   document.addEventListener("DOMContentLoaded", () => {
    init(currentSlide);
   });
   const next = () => {
    currentSlide >= slides.length - 1 ? currentSlide = 0 : currentSlide++;
    init(currentSlide);
   };
   const prev = () => {
    currentSlide <= 0 ? currentSlide = slides.length - 1 : currentSlide--;
    init(currentSlide);
   };
   document.querySelector(".next").addEventListener('click', next);
   document.querySelector(".prev").addEventListener('click', prev);
   setInterval(next, 5000);
   
   dots.forEach((dot, i) => {
    dot.addEventListener("click", () => {
      init(i);
      currentSlide = i;
    });
   });
</script>
<script>
   $(document).on('mousemove', '.card', function (e) {
   	const rect = this.getBoundingClientRect();
   	const x = e.clientX - rect.left;
   	const y = e.clientY - rect.top;
   	this.style.setProperty('--x', `${x}px`);
   	this.style.setProperty('--y', `${y}px`);
   });
   
</script>



{# bar chart js starts herer  #}
<script>
document.addEventListener("DOMContentLoaded", function () {
   const ctx = document.getElementById('barChart').getContext('2d');
   let barChart;
   let fetchedData = [];

   function renderChart(type) {
      const labels = fetchedData.map(item => item.month);
      let datasets = [];

      if (type === 'organization' || type === 'egovapp') {
         const data = fetchedData.map(item => item[type]);
         const label = type === 'organization' ? 'Organization Total Message' : 'eGov Total Message';
         const backgroundColor = type === 'organization' ? '#4FBDDC' : '#1398BD';

         datasets.push({
            label: label,
            data: data,
            backgroundColor: backgroundColor,
            borderRadius: 6
         });
      } else if (type === 'both') {
         datasets.push(
            {
               label: 'Organization Total Message',
               data: fetchedData.map(item => item.organization),
               backgroundColor: '#4FBDDC',
               borderRadius: 6
            },
            {
               label: 'eGov Total Message',
               data: fetchedData.map(item => item.egovapp),
               backgroundColor: '#0680A3',
               borderRadius: 6
            }
         );
      }

      if (barChart) {
         barChart.destroy();
      }

      barChart = new Chart(ctx, {
         type: 'bar',
         data: {
            labels: labels,
            datasets: datasets
         },
         options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
               legend: {
                  display: true,
                  position: 'top'
               },
               title: {
                  display: true,
                  text: `${type === 'both' ? 'Organization & eGov Total Message' : datasets[0].label} - Monthly Overview`,
                  font: { size: 18 }
               }
            },
            scales: {
               y: {
                  beginAtZero: true
               }
            }
         }
      });
   }

   function fetchChartData() {
      const url = "{{ path('get_monthly_message_data') }}"; // Symfony route
      $.ajax({
         url: url,
         method: 'POST',
         dataType: 'json',
         success: function (response) {
            fetchedData = response.sort((a, b) => new Date(a.month) - new Date(b.month));
            renderChart('organization');
         },
         error: function () {
            console.error('Failed to fetch chart data.');
         }
      });
   }

   document.querySelectorAll(".tab-btn").forEach(btn => {
      btn.addEventListener("click", function () {
         document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
         this.classList.add("active");
         const type = this.dataset.type;
         renderChart(type);
      });
   });

   fetchChartData();
});

</script>

